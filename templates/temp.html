<!DOCTYPE html>
<html lang="ko">

<head>
  <title>임시 페이지</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
  integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Gamja+Flower&display=swap&subset=korean" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Poor+Story&display=swap&subset=korean" rel="stylesheet">

  <!-- 추가한 부분 -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato"rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
  crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
  crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>

  <!-- 추가한 부분 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


  <script>
    // 이미지
    let pencil_image = `<svg class="bi bi-pencil" width="1.5em" height="1.5em" style="padding-bottom:5px;" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" d="M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"/>
    <path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"/>
    </svg>`

    let speaker_image = `<svg width="3em" height="3em" style="margin-left:3px; margin-right:3px;" viewBox="0 0 16 16" class="bi bi-speaker" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path d="M9 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-2.5 6.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0z"/>
    <path fill-rule="evenodd" d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm6 4a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 7a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7z"/>
    </svg>`

    let tv_image = `<svg width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-display" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path d="M5.75 13.5c.167-.333.25-.833.25-1.5h4c0 .667.083 1.167.25 1.5H11a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h.75z"/>
    <path fill-rule="evenodd" d="M13.991 3H2c-.325 0-.502.078-.602.145a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3zM14 2H2C0 2 0 4 0 4v6c0 2 2 2 2 2h12c2 0 2-2 2-2V4c0-2-2-2-2-2z"/>
    </svg>`

    let bottom_arrow = `<svg width="1.5em" height="1.5em" style="margin-left:10px;" viewBox="0 0 16 16" class="bi bi-arrow-down-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
    <path fill-rule="evenodd" d="M4.646 7.646a.5.5 0 0 1 .708 0L8 10.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
    <path fill-rule="evenodd" d="M8 4.5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5z"/>
    </svg>`

    let append_image = speaker_image + tv_image + speaker_image



    // 처음에 실행되는 함수
    $(document).ready(function(){
      get_session();
      sort_search_db();

      var title="";
      listing2();

      $("#watching_site").prepend(append_image);
      $(".tip_title").append(bottom_arrow);

    });

    // 세션을 받아오는 함수
    function get_session(){
      nickname = "{{sessionemail2}}"
      html_logout = '<a class="nav-link" id="btn_logout" style="padding-top:5px;" onclick="btn_logout()">로그아웃</a>'
      temp_html = '<div style="padding:4px;color:black;">안녕하세요 ' + '<a href="/mypage?user='+nickname+'">' + nickname + '</a>님!</div>'

      $('#menubar').append(temp_html);
      $('#menubar').append(html_logout);
      comment_button();

    }

    // 영화의 장르를 분석해주는 함수

    function search_genre(){
      title = $('#maingenre_movie_title1').text()
      nickname = nickname

      // 점수를 추가할지 뺄지 나누기 위해서, if 구문 작성

      if($('#like').hasClass('is-active')){
        check = 'plus'
      }else{
        check = 'minus'
      }

      $.ajax({
        type:"POST",
        url: "/get_movie_genre",
        data: {
          movie_title : title,
          nickname : nickname,
          check : check
        },
        success:function(response){
          if(response['result'] == 'success'){
          }
        }
      })
    }

    //버튼 애니메이션 실행 함수
    function like_animation(){

      $('.like-button').toggleClass('is-active');
      check_like();
    };

  // 좋아요를 누른 영화와 누르지 않은 영화를 나눠서 like/dislike 나누는 함수
  function check_like(){
    if($('#like').hasClass('is-active')){
      like_movie();

    }else{
      dislike_movie();
    }
  }

  //영화에 들어왔는데, 좋아요를 누른 영화라면 
  function check_like_db(){
    $.ajax({
     type: "POST",
     url: "/check_LDDB",
     data: {
      title:title,
      poster:poster
    },
    success: function(response){
      if(response['result']=='like_success'){
        alert('좋아요를 눌렀던 영화입니다.')
        $('.like-button').toggleClass('is-active');
      }else{
      }
    }
  })
    
  }


    // 실시간 검색 순위 나열 함수
    function sort_search_db(){
      $.ajax({
        type:"POST",
        url:"/sort/search",
        data:{},
        success: function(response){
          if(response['result'] == 'success'){
            sort_searched_db = response['sort_search']
            search_menu_bar= '실시간 검색 순위'
            search_rank_1 = sort_searched_db[0]['title']
            search_rank_2 = sort_searched_db[1]['title']
            search_rank_3 = sort_searched_db[2]['title']
            search_rank_4 = sort_searched_db[3]['title']
            search_rank_5 = sort_searched_db[4]['title']
            search_rank_6 = sort_searched_db[5]['title']
            search_rank_7 = sort_searched_db[6]['title']
            search_rank_8 = sort_searched_db[7]['title']
            search_rank_9 = sort_searched_db[8]['title']
            search_rank_10 = sort_searched_db[9]['title']                        

            bring_rank_html(search_menu_bar,search_rank_1,search_rank_2,search_rank_3,search_rank_4,search_rank_5,search_rank_6,search_rank_7,search_rank_8,search_rank_9,search_rank_10)
            
          }
        }
      })
    }

    // 좋아요 순위 나열 함수
    function sort_like_db(){
      $.ajax({
        type:"POST",
        url:"/sort/like",
        data:{},
        success: function(response){
          if(response['result'] == 'success'){
            sort_liked_db = response['sort_like']
            like_menu_bar= '실시간 좋아요 순위'
            like_rank_1 = sort_liked_db[0]['title']
            like_rank_2 = sort_liked_db[1]['title']
            like_rank_3 = sort_liked_db[2]['title']
            like_rank_4 = sort_liked_db[3]['title']
            like_rank_5 = sort_liked_db[4]['title']
            like_rank_6 = sort_liked_db[5]['title']
            like_rank_7 = sort_liked_db[6]['title']
            like_rank_8 = sort_liked_db[7]['title']
            like_rank_9 = sort_liked_db[8]['title']
            like_rank_10 = sort_liked_db[9]['title']


            bring_rank_html(like_menu_bar,like_rank_1,like_rank_2,like_rank_3,like_rank_4,like_rank_5,like_rank_6,like_rank_7,like_rank_8,like_rank_9,like_rank_10)
            
          }
        }
      })
    }

    //  커멘트 순위 나열 함수
    function sort_comment_db(){
      $.ajax({
        type:"POST",
        url:"/sort/comment",
        data:{},
        success: function(response){
          if(response['result'] == 'success'){
            sort_commented_db = response['sort_comment']
            comment_menu_bar= '실시간 코멘트 순위'
            comment_rank_1 = sort_commented_db[0]['title']
            comment_rank_2 = sort_commented_db[1]['title']
            comment_rank_3 = sort_commented_db[2]['title']
            comment_rank_4 = sort_commented_db[3]['title']
            comment_rank_5 = sort_commented_db[4]['title']
            comment_rank_6 = sort_commented_db[5]['title']
            comment_rank_7 = sort_commented_db[6]['title']
            comment_rank_8 = sort_commented_db[7]['title']
            comment_rank_9 = sort_commented_db[8]['title']
            comment_rank_10 = sort_commented_db[9]['title']


            bring_rank_html(comment_menu_bar,comment_rank_1,comment_rank_2,comment_rank_3,comment_rank_4,comment_rank_5,comment_rank_6,comment_rank_7,comment_rank_8,comment_rank_9,comment_rank_10)
            
          }
        }
      })
    }

    
    //실시간 순위 나열 함수
    function bring_rank_html(rank_bar,rank_1,rank_2,rank_3,rank_4,rank_5,rank_6,rank_7,rank_8,rank_9,rank_10){
      $('#rank_menu_contents').remove()
      rank_box_html = '<ul id="rank_menu_contents">\
      <p><a id="rank_bar" style="font-weight:bold;font-size:20pt;">'+'<'+rank_bar+'>'+'</a></p><br>\
      <p><a href="/page5?search_data='+rank_1+'" id="rank_1st">'+'1위 '+rank_1+'</a></p>\
      <p><a href="/page5?search_data='+rank_2+'" id="rank_2nd">'+'2위 '+rank_2+'</a></p>\
      <p><a href="/page5?search_data='+rank_3+'" id="rank_3rd">'+'3위 '+rank_3+'</a></p>\
      <p><a href="/page5?search_data='+rank_4+'" id="rank_4th">'+'4위 '+rank_4+'</a></p>\
      <p><a href="/page5?search_data='+rank_5+'" id="rank_5th">'+'5위 '+rank_5+'</a></p>\
      <p><a href="/page5?search_data='+rank_6+'" id="rank_6th">'+'6위 '+rank_6+'</a></p>\
      <p><a href="/page5?search_data='+rank_7+'" id="rank_7th">'+'7위 '+rank_7+'</a></p>\
      <p><a href="/page5?search_data='+rank_8+'" id="rank_8th">'+'8위 '+rank_8+'</a></p>\
      <p><a href="/page5?search_data='+rank_9+'" id="rank_9th">'+'9위 '+rank_9+'</a></p>\
      <p><a href="/page5?search_data='+rank_10+'" id="rank_10th">'+'10위 '+rank_10+'</a></p>\
      </ul>'

      $('#rank_box').append(rank_box_html);

    }

    // 선호장르 알아보기 버튼 추가 함수
    function comment_button(){
      button_movepage = '<button id=comment_write style="vertical-align:middle;" onclick="go_page5($(maingenre_movie_title1).text())">코멘트 작성하기'+pencil_image+'</button>'
      $('.button_cover').append(button_movepage)
    }

   // 로그아웃 함수
   function btn_logout(){
    jbResult = confirm( "정말 로그아웃을 하시겠습니까?" );
    if(jbResult == true){
      $.ajax({
       type: "POST",
       url: "/test2",
       data: {},
       success: function(response){
        location.href="/"
      }
    })
    }
    else{
    }
  }

  // 홈(temp)으로 이동하는 함수
  function btn_home(){
    location.href="/temp"
  }
  // 선호도 조사 페이지(page2) 로 가는 함수
  function go_page2(){
    location.href="/page2"
  }

  // 선호장르 추천 페이지로 가는 함수
  function go_page3(nickname){
    location.href="/page3?user="+nickname
  }

  // 검색 페이지(page5)로 가는 함수
  function go_page5(data){
    location.href="/page5?search_data="+data
  }

  // 검색 결과 보여주는 페이지로 가는 함수
  function go_search_page(data){
    location.href="/search_page?search_data="+data
  }


  // 네이버 클릭 함수
  function naver_click(){
   naver_url="https://movie.naver.com/movie/search/result.nhn?query=" + title + "&section=all&ie=utf8"
   location.href=naver_url
 }

 // 다음 클릭 함수
 function daum_click(){
   daum_url="http://cinefox.com/smart/search?q=" + title
   location.href=daum_url
 }

 // 나무 위키 클릭 함수
 function namu_wiki_click(){
  namu_wiki_url="https://namu.wiki/w/"+ title
  location.href=namu_wiki_url
}

// 구글 클릭 함수
function google_click(){
  google_url = "https://play.google.com/store/search?q="+title+"&c=movies&hl=ko"
  location.href=google_url
}

  // 랜덤으로 영화 내용 추가하는 함수
  function recommend(random_director, all_byDirector){


   director = random_director
   $('#result_main_genre').text('"'+director+'"')

   poster = all_byDirector['poster']
   $('#maingenre_movie_poster1').attr('src',poster)

   title = all_byDirector['title']
   $('#maingenre_movie_title1').text(title)

   summary = all_byDirector['summary']

   if (summary.length > 300){
    summary = summary.substr(0,300)+"..."
  }


  $('#maingenre_movie_summary1').text(summary)

  check_like_db();


  return title;
}


  // 랜덤으로 db 에서 영화 뽑기 함수
  function listing2(){
   $.ajax({
    type: "GET",
    url: "/main",
    data: {},
    success: function(response){
     let ART_movie_list = response['ART_movie_list'];
     
     do{
      random = Math.floor(Math.random() * ART_movie_list.length)
      random_director = ART_movie_list[random]['director']
      random_director_len = random_director.length
    }while(random_director_len > 25 && random_director != 'NONE')
    // 길이가 30보다 작고 감독이 존재해야 반복문 종료
    all_byDirector = ART_movie_list[random]

    recommend(random_director, all_byDirector)
  }
})
 }

// 입력한 검색어 확인 함수
function search_listing(){
  let search_data = $('#movie_input').val();
  if( search_data != ""){
    alert(search_data+'에 대한 정보입니다.');
    go_search_page(search_data);
    // go_page5(search_data);
  }
  else{
    alert('검색어를 입력해주세요.');
  }
}

// 좋아요 버튼 + 싫어요 버튼
function like_movie(){
  $.ajax({
   type: "POST",
   url: "/like_movie",
   data: {
    nickname:nickname,
    title:title,
    poster:poster
  },
  success: function(response){
    if (response['result'] == 'success'){
      alert('성공적으로 영화가 담겼습니다')
      search_genre()
      alert('장르 값을 추가했습니다.')
    }
    else if (response['result'] == 'fail2'){
      alert('이미 좋아한다고 누름')
    }
    else if (response['result'] == 'fail1'){
      DL(title, poster)
    }
  }
})
}

function dislike_movie(){
  $.ajax({
   type: "POST",
   url: "/dislike_movie",
   data: {
    nickname:nickname,
    title:title,
    poster:poster
  },
  success: function(response){
    if (response['result'] == 'success'){
      alert('성공적으로 영화가 담겼습니다')
      search_genre()
      alert('장르 값을 뺏습니다.')
    }
    else if (response['result'] == 'fail1'){
      alert('이미 안좋아한다고 누름')
    }
    else if (response['result'] == 'fail2'){
      LD(title, poster)
    }
  }
})
}

function DL(title,poster){
 jbResult = confirm("싫어요에 담겨있는 영화입니다. 좋아하는 영화에 담을까요 ?");
 search_genre();
 alert('장르 값을 더했습니다.');
 if (jbResult == true){
  $.ajax({
   type: "POST",
   url: "/DLupdate_movie",
   data: {title:title, poster:poster},
   success: function(response){
     if (response['result'] == 'success')
      alert('싫어요 -> 좋아요에 성공적으로 영화가 담겼습니다')
  }
})
}
}

function LD(title,poster){
 jbResult = confirm("좋아요에 담겨있는 영화입니다. 싫어하는 영화에 담을까요 ?");
 search_genre();
 alert('장르 값을 뺏습니다.');
 if (jbResult == true){
  $.ajax({
   type: "POST",
   url: "/LDupdate_movie",
   data: {title:title, poster:poster},
   success: function(response){
     if (response['result'] == 'success')
      alert('좋아요 -> 싫어요에 성공적으로 영화가 담겼습니다')
  }
})
}
}




</script>

<style type="text/css">
  *{
    font-family: 'Noto Serif KR', serif;
  }

  a,
  a:focus,
  a:hover {
    color: black;
  }

  html,body{

    height: 100%;
    background-color: #333;
    color: black;
  }

  body {
    display: -ms-flexbox;
    display: flex;
    color: black;
    /*text-shadow: 0 .05rem .1rem rgba(0, 0, 0, .5);*/
    /*box-shadow: inset 0 0 5rem rgba(0, 0, 0, .5);*/
  }
  button{
    background-color: #748599;
    color: black;
  }

  .outer{
    background-color: #c5adba;
  }
  
  .inner{
    width: 100%;
    height:80px;
    background-color: #c5adba;
  }
  .masthead {
   /*margin-bottom: 1px;*/
 }
 .artcinema_logo {
  padding-top: 10px;
  margin-bottom: 0px;
}
.nav-masthead .nav-link {
  /*padding: .25rem;*/
  font-weight: 700;
  color: black; 

  background-color: transparent;
  border-bottom: .25rem solid transparent;
}

.nav-masthead .nav-link:hover,
.nav-masthead .nav-link:focus {
  border-bottom-color: rgba(255, 255, 255, .25);
}

.nav-masthead .nav-link + .nav-link {
  /*margin-left: 1rem;*/
}

.nav-masthead .active {
  color: #e2cab2;
  border-bottom-color: #fff;
}

@media (min-width: 48em) {
  .artcinema_logo {
   float: left;
 }
 .nav-masthead {
   float: right;
 }
}

.cover {
  /*padding: 0 1.5rem;*/
}

.cover-container{
  /*max-width: 90em;*/
}

.mastfoot {
  color: rgba(255, 255, 255, .5);
}

#customer_email{
  color:white;
  text-align: right;
}
.select_button{
  margin-top: 30px;
}
#button_result{
  display: inline-block;
  border-radius: 4px;
  background-color: #89a3b2;
  border: none;
  color: black;
  text-align: center;
  font-size: 15pt;
  font-weight:bold;
  padding: 20px;
  width:auto;
  height: 60px;
  transition: all 0.5s;
  cursor: pointer;
  margin-top:70px;
  margin-right: 50px;
  margin-left: 150px;
  margin-bottom: 50px;
  /*display: block;*/
  /*margin-top: 45%;*/
  /*margin-top:80px;
  margin-right: auto;
  margin-left: 150px;
  margin-bottom: 50px;
  border-color: #7d7d89;
  background-color:#89a3b2;
  width:auto;
  height:60px;
  font-size: 13pt;
  color: black;
  font-weight: bold;*/
}

#button_result span{
  cursor: pointer;
  display: inline-block;
  position: relative;
  transition: 0.5s;
}

#button_result span:after{
  font-size:20px;
  content: '\00bb';
  position: absolute;
  opacity: 0;
  top: 0;
  right: -20px;
  transition: 0.5s;
}

#button_result:hover span {
  padding-right: 25px;
}

#button_result:hover span:after {
  opacity: 1;
  right: 0;
}

#background_image {
  background-repeat : no-repeat;
  background-size : cover;
  position: fixed;
  top: 0;
  left: 0;
  min-width: 100%;
  min-height: 100%;
}


.result_contents{
  border:6px #7d7d89;
  border-top-style: solid;
  border-bottom-style: solid;
  border-width: thick;
  width:800px;
  height: 110px;
  text-align: center;
  margin-top: 1%;
  margin-left: 28%;
  padding-bottom: 15px;
}

.result_title{
  position: absolute; 
  font-size: 26pt;
  font-weight: bold;
  padding-top: 10px;
  color:black;
  /*text-decoration: line-through !important;*/

}

#result_main_genre{
 font-size: 30pt;
 position: relative;
 /*right: 100px;*/
 display: inline;
}
.result_word{
 font-size: 19pt;
 color:black;
 margin-top: 5px;
}

.rank_contents{
  float: right;
  width: 23%;
  margin-left: 10px;
  margin-right:30px;
  padding-top: 10px;
  padding-bottom: 10px;
}

.main_contents{
 border: 0px solid;
 width:850px;
 margin-top: 3%;
 margin-left: 27%;
 margin-bottom: 10px;
 padding: 15px 0px 30px 30px;
}


.rank_box{
  float: left;
  position: relative;
  margin-top: 30px;
  font-size: 20px;
}

#rank_menu_contents{
  margin-top: 10px;
}

#main_genre_title{
 color:black;
 text-align: center;
}

#maingenre_movie_poster1{
 border:0px solid;
}

#maingenre_movie_summary1{
 color:black;
}

#maingenre_movie_title1{
 font-weight: bold;
 font-size: 28px;
 color: black;
 padding-top: 20px
}

#naver_link{
 border:0px solid;
 float: right;
 background-color: #c5adba;
}

#daum_link{
 border:0px solid;
 float: right;
 background-color: #c5adba;
}

#google_link{
  border:0px solid;
  float: right;
  background-color: #c5adba;
}

#namu_wiki_link{
 border:0px solid;
 float: right;
 background-color: #c5adba;
}

#movie_input{
  text-align: center;
  border: 3px solid #7d7d89;
  width: 800px;
  height: 55px;
  margin-top: 25px;

}
#input_box{
  position: absolute;
  margin-left:auto;
  margin-right:auto;
  padding-left: 22%;
}


#like_movie{
  background-color: #B7CBFF;
  align-content: right;
}

#dislike_movie{
  background-color: #FFB7B7;
}


/*추가한 부분*/
.container {
  width: 600px;
  height: auto;
}
.container h1 {
  font-family: 'Lato';
  font-size: 3rem;
  font-weight: 300;
}
.container h4 {
  font-family: 'Lato';
  font-soze: 1.2rem;
  padding-top: 40px;
  color: #999;
}
.container .love {
  font-size: 0.9rem;
  color: #ff4f8f;
}
.container .wrapper .like-button {
  /*누르면 나오는 애니메이션 크기*/
  position: relative;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: #ccc;
  display: -webkit-box;
  display: flex;
  -webkit-box-pack: center;
  justify-content: center;
  -webkit-box-align: center;
  align-items: center;
  margin: 0 auto;
  text-decoration: none;
  overflow: hidden;
}
.container .wrapper .like-button .like-overlay {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: #ff4f8f;
  -webkit-transform: scale(0);
  transform: scale(0);
  -webkit-transition: all .4s;
  transition: all .4s;
  z-index: 0;
}
.container .wrapper .like-button i.not-liked {
  display: block;
  color: #fff;
  position: relative;
  z-index: 1;
}
.container .wrapper .like-button i.is-liked {
  display: none;
  color: #fff;
  position: relative;
  z-index: 1;
}
.container .wrapper .like-button.is-active .like-overlay {
  -webkit-transform: scale(1);
  transform: scale(1);
}
.container .wrapper .like-button.is-active i.not-liked {
  display: none;
}
.container .wrapper .like-button.is-active i.is-liked {
  display: block;
}

@-webkit-keyframes bouncy {
  from, to {
    -webkit-transform: scale(1, 1);
  }
  25% {
    -webkit-transform: scale(0.9, 1.1);
  }
  50% {
    -webkit-transform: scale(1.1, 0.9);
  }
  75% {
    -webkit-transform: scale(0.95, 1.05);
  }
}
@keyframes bouncy {
  from, to {
    -webkit-transform: scale(1, 1);
    transform: scale(1, 1);
  }
  25% {
    -webkit-transform: scale(0.9, 1.1);
    transform: scale(0.9, 1.1);
  }
  50% {
    -webkit-transform: scale(1.1, 0.9);
    transform: scale(1.1, 0.9);
  }
  75% {
    -webkit-transform: scale(0.95, 1.05);
    transform: scale(0.95, 1.05);
  }
}
.bouncy {
  -webkit-animation: bouncy 0.6s;
  animation: bouncy 0.6s;
  -webkit-animation-duration: 0.6s;
  animation-duration: 0.6s;
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
}

.link-button {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: #6dacff;
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: -webkit-box;
  display: flex;
  -webkit-box-pack: center;
  justify-content: center;
  -webkit-box-align: center;
  align-items: center;
  -webkit-transition: all .4s;
  transition: all .4s;
}
.link-button img {
  width: 32px;
  height: 32px;
  display: block;
}
.link-button:hover {
  -webkit-transform: scale(1.1) rotate(180deg);
  transform: scale(1.1) rotate(180deg);
  background: #ff4f8f;
}



</style>
</head>
<body id="background_image" style="background-color: #c5adba;">
  <div class="cover-container d-flex w-100 h-100 mx-auto flex-column">
    <div class="masthead">
      <div class="inner">
        <div id="input_box">
          <h3 class="artcinema_logo">
            <img src="static/logo.png" style="width:100px; height:80px; cursor:pointer; margin-right: 10px; " onclick="btn_home()">
          </h3>
          <input class="keyword" id="movie_input" type="text" name="movie_info_give" maxlength=255 value=""
          autocomplete="off" placeholder="'영화제목'  / '감독' / '사용자' 를 입력해주세요."
          onKeypress="javascript:if(event.keyCode==13) {search_listing()}">
          <svg class="bi bi-search" onclick="" width="2em" height="2em" style="margin-right: 7px; margin-left: 10px;"viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
            <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
          </svg>
        </div>
        <nav class="nav nav-masthead justify-content-center" id="menubar" style="margin-top: 25px;">
          <div class="star_button" style="margin-right: 15px; text-align:center;">
            <svg class="bi bi-star" width="2em" height="2em" style="cursor: pointer;" onclick="go_page2()" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
              <div class="star_text" style="margin-top: 5px;">
                <p style="font-size:small;">선호장르 알아보기</p>
              </div>
            </svg>
          </div>
          <div class="film_button" style="margin-right: 10px;">
            <svg class="bi bi-film" width="2em" height="2em" style="cursor: pointer;" onclick="go_page3(nickname)" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0h8v6H4V1zm8 8H4v6h8V9zM1 1h2v2H1V1zm2 3H1v2h2V4zM1 7h2v2H1V7zm2 3H1v2h2v-2zm-2 3h2v2H1v-2zM15 1h-2v2h2V1zm-2 3h2v2h-2V4zm2 3h-2v2h2V7zm-2 3h2v2h-2v-2zm2 3h-2v2h2v-2z"/>
            </svg>
            <div class="flim_text" style="margin-top: 5px;">
              <p style="font-size:small;">For You</p>
            </div>
          </div>
          <svg class="bi bi-person-circle" width="2em" height="2em" style="padding-right: 5px;" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z"/>
            <path fill-rule="evenodd" d="M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
            <path fill-rule="evenodd" d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z"/>
          </svg>
        </nav>
        <div id="customer_email"></div>
      </div>
    </div> 
    <br>
    <div class="outer">
      <div class="rank_contents" style="background-color:#89a3b2;outline-color:#7d7d89; outline-style: solid;">
        <div id="image" style="padding-top:10px;padding-bottom: 10px;">
          <svg class="bi bi-search" onclick="sort_search_db()" width="3em" height="3em" style="margin-left:50px;margin-right:80px;margin-bottom:10px;" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
            <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
          </svg>
          <svg class="bi bi-hand-thumbs-up" onclick="sort_like_db()"width="3em" height="3em" style="margin-left:10px;margin-right:50px;margin-bottom:10px;"viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16v-1c.563 0 .901-.272 1.066-.56a.865.865 0 0 0 .121-.416c0-.12-.035-.165-.04-.17l-.354-.354.353-.354c.202-.201.407-.511.505-.804.104-.312.043-.441-.005-.488l-.353-.354.353-.354c.043-.042.105-.14.154-.315.048-.167.075-.37.075-.581 0-.211-.027-.414-.075-.581-.05-.174-.111-.273-.154-.315L12.793 9l.353-.354c.353-.352.373-.713.267-1.02-.122-.35-.396-.593-.571-.652-.653-.217-1.447-.224-2.11-.164a8.907 8.907 0 0 0-1.094.171l-.014.003-.003.001a.5.5 0 0 1-.595-.643 8.34 8.34 0 0 0 .145-4.726c-.03-.111-.128-.215-.288-.255l-.262-.065c-.306-.077-.642.156-.667.518-.075 1.082-.239 2.15-.482 2.85-.174.502-.603 1.268-1.238 1.977-.637.712-1.519 1.41-2.614 1.708-.394.108-.62.396-.62.65v4.002c0 .26.22.515.553.55 1.293.137 1.936.53 2.491.868l.04.025c.27.164.495.296.776.393.277.095.63.163 1.14.163h3.5v1H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z"/>
          </svg>
          <svg class="bi bi-chat-dots" onclick="sort_comment_db()"width="3em" height="3em" style="margin-left: 50px;margin-bottom:10px;"viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
            <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
          </svg>
        </div>
        <div class="rank_menu">
          <button style="margin-right: 20px;margin-left:40px;" onclick="sort_search_db()"><strong>검색 순위</strong></button>
          <button style="margin-left: 20px;margin-right: 20px;" onclick="sort_like_db()"><strong>좋아요 순위</strong></button>
          <button style="margin-left: 30px;margin-right: 20px;" onclick="sort_comment_db()"><strong>코멘트 순위</strong></button>
        </div>
        <div class="rank_box" id="rank_box">

        </div>
      </div>
      <div class="result_contents" style="text-align: center;">
        <div class="result_title" id="result_main_genre"></div>
        <div class="result_word">감독의 영화를 추천합니다</div>
      </div>

      <div class=" main_contents">
        <div class="media">
         <img class="mr-3" id="maingenre_movie_poster1" style="position:relative; cursor: pointer;" src="" alt="Generic placeholder image" onclick="go_page5($('#maingenre_movie_title1').text())">
         <div class="container" style="text-align:center; position:absolute; left:270px;">
          <div class="wrapper" style="display:inline-block; vertical-align:middle;">
            <a href="javascript:void(0);" onclick="like_animation()" class="like-button" id="like" style="margin-bottom:20px; margin-left:10px;">
              <i class="material-icons not-liked bouncy">favorite_border</i>
              <i class="material-icons is-liked bouncy">favorite</i>
              <span class="like-overlay"></span>
            </a>
          </div>
        </div>
        <div class="media-body">
          <h5 class="mt-0" id="maingenre_movie_title1"></h5><br>
          <p class="summary-text" id="maingenre_movie_summary1"></p>
          <div class="link_button" style="padding-top: 10px;">
            <h5 class="tip_title" style="text-align: right; font-weight: bold; margin-bottom: 15px;">(더 많은 정보를 원한다면)</h5>
            <button id="namu_wiki_link" onclick="namu_wiki_click()"><img src="static/namu_wiki.jfif"
             style="width:50px; height:50px;"></button>
             <button id="google_link" onclick="google_click()" style="margin-right: 3px;"><img src="static/google_logo.webp"
               style="width:50px; height:50px;"></button>
             </div>
             <main role="main" class="button_cover" id="a">
             </main>
           </div>
         </div>
         <div class="watching_site" id="watching_site" style="text-align: center; margin-top: 50px; margin-right: auto; margin-left: auto; border:1px solid black; padding-top: 20px; padding-bottom: 10px; width: 600px;">
          <h4 style="font-weight: bold; margin-top: 10px; margin-bottom: 10px;">이 영화를 보고 싶다면, <a style="color:blue;">버튼</a>을 눌러주세요.</h4>
          <button style="margin-top: 10px; margin-bottom: 10px;" onclick="google_click()">영화보러가기</button>
        </div>
      </div>
    </div>
    <div class="bottom_info">
     <footer class="mastfoot mt-auto">
      <p class="copy" style="background-color:#c5adba; color: white; margin-top:200px;">Copyright ⓒ Developer 지훈, 희진, 원행. All Rights Reserved.</p>
    </footer>
  </div>
</div>
</body>
</html>
